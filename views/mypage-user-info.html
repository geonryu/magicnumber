{% extends 'mypage.html' %}

{% block myPageComp %}
<script>
    const lnb = document.querySelectorAll(".sub-lnb .list a");
    lnb.forEach((list, i) => {
        i === 1 ? list.classList.add("active") : list.classList.remove("active");
    });
    // local navigation highlight
</script>
<div class="user-info py-3">
    <h3 class="fw-bold mb-3 d-flex justify-content-between align-items-center">
        회원정보수정
        <a href="/userWithdrawal" class="fs-6 d-flex align-items-center text-txtDisabled">회원탈퇴<span class="material-symbols-outlined">navigate_next</span></a>
    </h3>
    <div class="user-information">
        <form action="mypage-info" method="post" id="userInfoForm">
            <div class="user-id mb-3">
                <label for="userId" class="mb-1">아이디(이메일)</label>
                <input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="text" name="email" id="userId" value="{{mypageInfo.email}}" disabled>
            </div>
            <div class="user-pw mb-3">
                <label class="mb-1" for="userPw">비밀번호</label>
                <div class="row">
                    <div class="output col-10"><input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="password" name="password" id="userPw" maxlength="20" readonly></div>
                    <div class="change-pw col-2"><a href="/pwChange" class="d-block w-100 px-2 py-2 text-center text-white bg-primary fw-bold rounded">변경</a></div>
                </div>
            </div>
            <div class="user-name mb-3">
                <label class="mb-1" for="userName">이름</label>
                <input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="text" name="name" id="userName" value="{{mypageInfo.name}}" disabled>
            </div>
            <div class="user-birth mb-3">
                <label class="mb-1" for="birth">생년월일</label>
                <input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="text" name="birth" id="birth" value="{{mypageInfo.birth}}">
            </div>
            <div class="user-gender mb-3">
                <label class="mb-1" for="gender">성별</label>
                {% if mypageInfo.gender == 1 %}
                <input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="text" name="gender" id="gender" value="남자" disabled>
                {% endif %}
                {% if mypageInfo.gender == 2 %}
                <input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="text" name="gender" id="gender" value="여자" disabled>
                {% endif %}
            </div>
            <div class="user-nick-name mb-3">
                <label class="mb-1" for="userNickName">닉네임</label>
                <input class="px-3 py-2 bg-white border border-primary d-block rounded w-100" type="text" name="nick_name" id="userNickName" value="{{mypageInfo.nick_name}}">
            </div>
            <div class="user-auth">
                <label class="mb-1" for="userAuthTel">휴대폰</label>
                <div class="row">
                    <div class="output col-12"><input class="px-3 py-2 bg-white border border-primary d-block rounded w-100 mb-3" type="tel" name="phone_num" id="userAuthTel" value="{{mypageInfo.phone_num}}" maxlength="13" required></div>
                </div>
            </div>
            <div class="btn-my-info">
                <button class="px-3 py-2 mt-3 d-block w-100 bg-primary rounded text-white fw-bold">정보 수정</button>
            </div>
        </form>
    </div>
</div>
{% if msg %}
<script>
  alert("{{msg}}");
  location.href = location.pathname
</script>
{% endif %}
{% endblock %}